(function(){window.ResultsCard=function(){function e(e,t,r,n,i){this.title=e,this.outputFormat=n,this.urlString=i,this.card=document.createElement("div"),document.getElementById(r).appendChild(this.card),this.card.id=t,this.card.innerHTML="<div class='title'>"+this.title+"</div>",window.cards.push(this)}return e.prototype.load=function(e,t){var r;return this.cardText=this.card.getElementsByClassName("text")[0],null!=this.cardText&&this.card.removeChild(this.cardText),this.cardText=document.createElement("div"),this.cardText.classList.add("text"),this.card.appendChild(this.cardText),r=this.card.getElementsByClassName("text")[0],this.URLToLoad=this.urlString.replace("^query",e).replace("^limit",t),loadJSON({query:e,url:this.URLToLoad,card:this.card,calledFrom:"card",cardText:this.cardText,outputFormat:this.outputFormat,success:function(t,n){var i,s,a,d,l,c,o,u,h,m,p,f,T,g,C,L,x;for(i in n)this[i]=n[i];switch(this.dataFormat=t[0]&&t[0].word?"datamuse":t.results?"pearson":"unrecognizable",this.dataFormat){case"datamuse":for(C=[],s=0,l=t.length;l>s;s++)i=t[s],C.push("<a href='#s="+i.word+"'>"+i.word+"</a>");break;case"pearson":if(C={},t.results[0]){f=void 0;for(i in t.results)f=t.results[i].part_of_speech,C[f]||(C[f]=[]),C[f].push(t.results[i].senses[0].definition);for(T in C){for(h=document.createElement("section"),h.classList.add(T.replace(/\s+/g,"")),L=document.createElement("h2"),L.innerHTML=T,h.appendChild(L),m=document.createElement("ol"),h.appendChild(m),g=C[T],a=0,c=g.length;c>a;a++)i=g[a],u=document.createElement("li"),u.innerHTML=i,m.appendChild(u);r.appendChild(h)}}else loadJSON({url:"https://www.googleapis.com/customsearch/v1?q=define%20"+e+"&cx=016826248069333016431%3Axeckywfblsg&key=AIzaSyBnIMWEr80v00Fgq60OxByQJ5cMlj8auM8",success:function(t){var n,i,s,a,d;if(L=document.createElement("h2"),L.innerHTML="Google results for "+e,r.appendChild(L),console.log(t.items),null==t.items)return r.innerHTML="Can't find results";for(d=t.items,i=0,s=d.length;s>i;i++)return n=d[i],a="<a href='"+n.link+"' target='_blank'>"+n.title+"</a>",void(r.innerHTML+=a)}})}if(null==C)return r.innerHTML="Can't find results";switch(this.outputFormat){case"ul":for(x=document.createElement("ul"),d=0,o=C.length;o>d;d++)i=C[d],u=document.createElement("li"),u.innerHTML=i,x.appendChild(u);return r.appendChild(x);case"list":return p=document.createElement("p"),p.innerHTML=C.join(", "),r.appendChild(p)}},error:function(e){return console.error(e)}})},e}()}).call(this);